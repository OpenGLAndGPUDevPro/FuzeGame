// -------------------------------------------------------------------------- //
//! @file   Action.h
//! @brief  アクションメイン
//! @author Nal
//! @since  08/07/07(月)
//!
//! COPYRIGHT (C) 2008 EDELWEISS ALL RIGHT RESERVED
// -------------------------------------------------------------------------- //
/* ====< インクルード >====================================================== */
#include "prefix.h"
#include <TGL.h>

#include "Game/GameProcess.h"
#include "Game/Game.h"
#include "Action.h"

/* ====< 定義 >====================================================== */

/* ========================================================================= */
/*		Action																 */
/* ========================================================================= */
// ---------------------------------------------
//! @brief  コンストラクタ "Action"
// ---------------------------------------------
Action::Action( const stl::string& name )
{
}

// ---------------------------------------------
//! @brief  デストラクタ "Action"
// ---------------------------------------------
Action::~Action()
{
}

// ---------------------------------------------
//! @brief  初期化
// ---------------------------------------------
void Action::OnInit()
{
	IACtrl->setup();
}

// ---------------------------------------------
//! @brief  終了
// ---------------------------------------------
void Action::OnTerm()
{
	IACtrl->terminate();
}

// ---------------------------------------------
//! @brief  リターン時
// ---------------------------------------------
void Action::OnReturn()
{
}

/* ========================================================================= */
/*		更新																 */
/* ========================================================================= */
// ---------------------------------------------
//! @brief  定期更新
//! @param  fDeltaTime	[in]	デルタタイム
// ---------------------------------------------
void Action::OnUpdate( f32 fDeltaTime )
{
#ifndef _TGL_FINAL	//!< プロセス終了
	if( IsProcessQuit() ){
		IGCtrl->setNextStep( GCtrl::STEP_DEBUG );
		Return();
		return;
	}
#endif	/*	_TGL_FINAL	*/

	//!	更新
	if( !IACtrl->update(fDeltaTime) ){
		Return();
	}
}

/* ========================================================================= */
/*		描画																 */
/* ========================================================================= */
// ---------------------------------------------
//! @brief  描画
// ---------------------------------------------
void Action::OnDraw()
{
	IACtrl->draw();
}


/* ========================================================================= */
/*		EOF																	 */
/* ========================================================================= */
